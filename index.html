<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Roleta Realista</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: #ffffff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      padding-top: 30px;
      text-align: center;
    }

    h1 {
      font-size: 36px;
      color: #d63031;
      margin: 10px 0 5px;
    }

    h2 {
      font-size: 18px;
      color: #2d3436;
      margin-bottom: 20px;
    }

    .roleta-container {
      position: relative;
      width: 500px;
      height: 500px;
    }

    .seta {
      position: absolute;
      left: -40px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 20px solid transparent;
      border-bottom: 20px solid transparent;
      border-right: 40px solid red;
      z-index: 10;
    }

    .roleta {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid gold;
      position: relative;
      transition: transform 5s cubic-bezier(0.33, 1, 0.68, 1);
      background: conic-gradient(
        red 0deg 30deg,
        green 30deg 60deg,
        blue 60deg 90deg,
        yellow 90deg 120deg,
        darkred 120deg 150deg,
        purple 150deg 180deg,
        red 180deg 210deg,
        green 210deg 240deg,
        blue 240deg 270deg,
        yellow 270deg 300deg,
        darkred 300deg 330deg,
        purple 330deg 360deg
      );
    }

    .roleta .valor {
      position: absolute;
      width: 100%;
      text-align: center;
      top: 50%;
      left: 0;
      transform-origin: center bottom;
      font-weight: bold;
      font-size: 18px;
      color: white;
      text-shadow: 1px 1px 2px black;
      pointer-events: none;
    }

    .botao-girar {
      margin-top: 30px;
      padding: 12px 30px;
      font-size: 18px;
      background-color: #e17055;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .botao-girar:hover {
      background-color: #d35400;
    }

    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .modal-conteudo {
      background: white;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      max-width: 90%;
    }

    .modal-conteudo button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background: green;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Tente a sua sorte</h1>
  <h2>Clica no bot√£o e gire a roleta da sorte para ganhar pr√™mios!</h2>

  <div class="roleta-container">
    <div class="seta"></div>
    <div class="roleta" id="roleta"></div>
  </div>

  <button class="botao-girar" onclick="girarRoleta()">GIRAR</button>

  <div class="modal" id="modal">
    <div class="modal-conteudo" id="modal-conteudo">
      <p>Parab√©ns!</p>
      <p id="msg-extra"></p>
      <button id="botao-modal">Registar</button>
    </div>
  </div>

  <audio id="som-vitoria" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f1cf2ed8ab.mp3" preload="auto"></audio>

  <script>
    const setores = [
      'Boa Sorte', '10 Meticais', '100 Meticais', '500 Meticais',
      '1000 Meticais', '5000 Meticais',
      'Boa Sorte', '10 Meticais', '100 Meticais', '500 Meticais',
      '1000 Meticais', '5000 Meticais'
    ];

    const roleta = document.getElementById('roleta');
    const somVitoria = document.getElementById('som-vitoria');
    const extraMsg = document.getElementById('msg-extra');
    let tentativas = 0;
    let anguloAtual = 0;

    // Inserir textos nos setores da roleta
    setores.forEach((texto, i) => {
      const div = document.createElement('div');
      div.classList.add('valor');
      div.style.transform = `rotate(${i * 30}deg) translateY(-220px) rotate(-${i * 30}deg)`;
      div.innerText = texto;
      roleta.appendChild(div);
    });

    function girarRoleta() {
      if (tentativas >= 2) return;

      const giros = 5;
      let alvo;

      if (tentativas === 0) {
        const indicesBoaSorte = setores.map((s, i) => s === 'Boa Sorte' ? i : -1).filter(i => i !== -1);
        alvo = indicesBoaSorte[Math.floor(Math.random() * indicesBoaSorte.length)];
      } else {
        const indicesPremiados = setores.map((s, i) =>
          s === '5000 Meticais' ? i : -1
        ).filter(i => i !== -1);
        alvo = indicesPremiados[Math.floor(Math.random() * indicesPremiados.length)];
      }

      const destino = 360 * giros + (360 - alvo * 30);
      anguloAtual += destino;
      roleta.style.transform = `rotate(${anguloAtual}deg)`;

      setTimeout(() => {
        tentativas++;
        if (tentativas === 1) {
          mostrarModal('Resultado: Boa Sorte!', 'Girar Novamente');
        } else {
          somVitoria.play();
          roleta.style.boxShadow = '0 0 30px 10px gold';
          setTimeout(() => {
            roleta.style.boxShadow = 'none';
          }, 2000);
          mostrarModal(
            'Parab√©ns! Voc√™ ganhou at√© 5000 Meticais üéâ',
            'Registar',
            'Caro usu√°rio, primeiro fa√ßa um dep√≥sito m√≠nimo de 10 Mts e aguarde pacientemente.'
          );
        }
      }, 5200);
    }

    function mostrarModal(msg, botaoTexto, msgExtra = '') {
      const modal = document.getElementById('modal');
      const conteudo = document.getElementById('modal-conteudo');
      conteudo.querySelector('p').innerText = msg;
      document.getElementById('msg-extra').innerText = msgExtra;

      const botao = conteudo.querySelector('button');
      botao.innerText = botaoTexto;
      botao.onclick = () => {
        modal.style.display = 'none';
        if (botaoTexto === 'Girar Novamente') {
          girarRoleta();
        }
        if (botaoTexto === 'Registar') {
          window.location.href = "https://is.gd/hHdRiZ";
        }
      };

      modal.style.display = 'flex';
    }
  </script>
</body>
  </html>
